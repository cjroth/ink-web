{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "text-input",
  "type": "registry:ui",
  "title": "Text Input",
  "description": "A terminal text input with keyboard handling and history state hook",
  "files": [
    {
      "path": "ui/text-input.tsx",
      "type": "registry:ui",
      "target": "components/ui/text-input.tsx",
      "content": "import { useState, useCallback } from 'react'\nimport { Box, Text, useInput } from 'ink'\n\nexport interface UseTextInputOptions {\n  onSubmit?: (value: string) => void\n}\n\nexport interface UseTextInputReturn {\n  value: string\n  setValue: (value: string) => void\n  history: string[]\n  clear: () => void\n  clearHistory: () => void\n}\n\nexport function useTextInput(options: UseTextInputOptions = {}): UseTextInputReturn {\n  const [value, setValueInternal] = useState('')\n  const [history, setHistory] = useState<string[]>([])\n\n  const setValue = useCallback((newValue: string) => {\n    setValueInternal(newValue)\n  }, [])\n\n  const clear = useCallback(() => {\n    setValueInternal('')\n  }, [])\n\n  const clearHistory = useCallback(() => {\n    setHistory([])\n  }, [])\n\n  useInput((inputChar, key) => {\n    if (key.return) {\n      if (value.trim()) {\n        setHistory((prev) => [...prev, value])\n        options.onSubmit?.(value)\n        setValueInternal('')\n      }\n    } else if (key.backspace || key.delete) {\n      setValueInternal((prev) => prev.slice(0, -1))\n    } else if (!key.ctrl && !key.meta && inputChar) {\n      setValueInternal((prev) => prev + inputChar)\n    }\n  })\n\n  return { value, setValue, history, clear, clearHistory }\n}\n\nexport interface TextInputProps {\n  value?: string\n  onChange?: (value: string) => void\n  onSubmit?: (value: string) => void\n  placeholder?: string\n  prompt?: string\n  promptColor?: string\n  cursorColor?: string\n  focus?: boolean\n}\n\nexport const TextInput = ({\n  value: controlledValue,\n  onChange,\n  onSubmit,\n  placeholder = '',\n  prompt = '> ',\n  promptColor = 'cyan',\n  cursorColor,\n  focus = true,\n}: TextInputProps) => {\n  const [internalValue, setInternalValue] = useState('')\n\n  const value = controlledValue !== undefined ? controlledValue : internalValue\n  const setValue = useCallback((newValue: string) => {\n    if (controlledValue === undefined) {\n      setInternalValue(newValue)\n    }\n    onChange?.(newValue)\n  }, [controlledValue, onChange])\n\n  useInput((inputChar, key) => {\n    if (!focus) return\n\n    if (key.return) {\n      if (value.trim()) {\n        onSubmit?.(value)\n        if (controlledValue === undefined) {\n          setInternalValue('')\n        }\n      }\n    } else if (key.backspace || key.delete) {\n      setValue(value.slice(0, -1))\n    } else if (!key.ctrl && !key.meta && inputChar) {\n      setValue(value + inputChar)\n    }\n  })\n\n  const showPlaceholder = !value && placeholder\n\n  return (\n    <Box>\n      <Text color={promptColor}>{prompt}</Text>\n      {showPlaceholder ? (\n        <Text dimColor>{placeholder}</Text>\n      ) : (\n        <Text>{value}</Text>\n      )}\n      {focus && <Text inverse color={cursorColor}> </Text>}\n    </Box>\n  )\n}\n\nexport default TextInput\n"
    }
  ]
}
