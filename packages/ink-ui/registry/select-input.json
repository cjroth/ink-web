{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "select-input",
  "type": "registry:ui",
  "title": "Select Input",
  "description": "A select input component with keyboard navigation",
  "files": [
    {
      "path": "ui/select-input.tsx",
      "type": "registry:ui",
      "target": "components/ui/select-input.tsx",
      "content": "/**\n * Select Input component for ink-web\n */\n\nimport React, { useState, useCallback } from 'react'\nimport { Box, Text, useInput } from 'ink'\n\nexport type SelectInputItem<V> = {\n  key?: string\n  label: string\n  value: V\n}\n\nexport interface IndicatorProps {\n  readonly isSelected?: boolean\n}\n\nexport interface ItemProps {\n  readonly isSelected?: boolean\n  readonly label: string\n}\n\nfunction DefaultIndicator({ isSelected = false }: IndicatorProps) {\n  return (\n    <Box marginRight={1}>\n      {isSelected ? (\n        <Text color=\"blue\">‚ùØ</Text>\n      ) : (\n        <Text> </Text>\n      )}\n    </Box>\n  )\n}\n\nfunction DefaultItem({ isSelected = false, label }: ItemProps) {\n  return <Text color={isSelected ? 'blue' : undefined}>{label}</Text>\n}\n\nexport interface SelectInputProps<V> {\n  items?: SelectInputItem<V>[]\n  focus?: boolean\n  initialIndex?: number\n  limit?: number\n  indicatorComponent?: React.FC<IndicatorProps>\n  itemComponent?: React.FC<ItemProps>\n  onSelect?: (item: SelectInputItem<V>) => void\n  onHighlight?: (item: SelectInputItem<V>) => void\n}\n\nexport function SelectInput<V>({\n  items = [],\n  focus = true,\n  initialIndex = 0,\n  limit,\n  indicatorComponent: IndicatorComponent = DefaultIndicator,\n  itemComponent: ItemComponent = DefaultItem,\n  onSelect,\n  onHighlight,\n}: SelectInputProps<V>) {\n  // Calculate visible range\n  const visibleCount = limit && limit < items.length ? limit : items.length\n  const clampedInitial = Math.min(initialIndex, items.length - 1)\n\n  const [selectedIndex, setSelectedIndex] = useState(Math.max(0, clampedInitial))\n  const [scrollOffset, setScrollOffset] = useState(\n    limit ? Math.max(0, clampedInitial - Math.floor(limit / 2)) : 0\n  )\n\n  // Get visible items based on scroll offset\n  const visibleItems = limit\n    ? items.slice(scrollOffset, scrollOffset + visibleCount)\n    : items\n\n  // Calculate the index within visible items\n  const visibleSelectedIndex = selectedIndex - scrollOffset\n\n  useInput(\n    useCallback(\n      (input, key) => {\n        if (input === 'k' || key.upArrow) {\n          const newIndex = selectedIndex > 0 ? selectedIndex - 1 : items.length - 1\n          setSelectedIndex(newIndex)\n\n          // Update scroll offset if needed\n          if (limit && newIndex < scrollOffset) {\n            setScrollOffset(newIndex)\n          } else if (limit && newIndex >= items.length - 1 && scrollOffset + visibleCount < items.length) {\n            setScrollOffset(Math.max(0, items.length - visibleCount))\n          }\n\n          onHighlight?.(items[newIndex]!)\n        }\n\n        if (input === 'j' || key.downArrow) {\n          const newIndex = selectedIndex < items.length - 1 ? selectedIndex + 1 : 0\n          setSelectedIndex(newIndex)\n\n          // Update scroll offset if needed\n          if (limit && newIndex >= scrollOffset + visibleCount) {\n            setScrollOffset(newIndex - visibleCount + 1)\n          } else if (limit && newIndex === 0) {\n            setScrollOffset(0)\n          }\n\n          onHighlight?.(items[newIndex]!)\n        }\n\n        if (key.return) {\n          onSelect?.(items[selectedIndex]!)\n        }\n      },\n      [selectedIndex, scrollOffset, items, limit, visibleCount, onSelect, onHighlight]\n    ),\n    { isActive: focus }\n  )\n\n  return (\n    <Box flexDirection=\"column\">\n      {visibleItems.map((item, index) => {\n        const isSelected = index === visibleSelectedIndex\n        return (\n          <Box key={item.key ?? String(item.value)}>\n            <IndicatorComponent isSelected={isSelected} />\n            <ItemComponent {...item} isSelected={isSelected} />\n          </Box>\n        )\n      })}\n    </Box>\n  )\n}\n\nexport default SelectInput\n"
    }
  ]
}
